{
    "id": "/organization",
    "title": "Organization",
    "description": "Master Data Model for Addresses to use in the Open Integration Hub",
    "type": "object",

    "definitions": {
        "rowid": {
            "type": "number",
            "description": "Rowid",
            "example": "197775"
        },
        "name": {
            "type": "string",
            "description": "Name",
            "example": "Your Compnay Ltd."
        },
        "street": {
            "type": "string",
            "description": "Street",
            "example": "Main Street"
        },
        "street_number": {
            "type": "string",
            "description": "Street number",
            "example": "124"
        },
        "zip_code": {
            "type": "string",
            "description": "Zip code",
            "example": "29610"
        },
        "town": {
            "type": "string",
            "description": "Town",
            "example": "London"
        },
        "state": {
            "type": "string",
            "description": "State",
            "example": "London District"
        },
        "country": {
            "type": "string",
            "description": "Country",
            "example": "Great Britain"
        },
        "phone": {
            "type": "string",
            "description": "Phone",
            "example": "+44 20 9812 0574"
        },
        "fax": {
            "type": "string",
            "description": "Fax",
            "example": "+44 20 9812 0590"
        },
        "email": {
            "type": "string",
            "description": "Email",
            "example": "yourcompany@mail.com"
        },
        "url": {
            "type": "string",
            "description": "Url",
            "example": "www.yourcompany.com"
        }
    },
    "required": [
        "organizationName"
    ],
    "properties": {
        "rowid": {
            "$ref": "#/definitions/rowid"
        },
        "name": {
            "$ref": "#/definitions/name"
        },
        "street": {
            "$ref": "#/definitions/street"
        },
        "street_number": {
            "$ref": "#/definitions/street_number"
        },
        "zip_code": {
            "$ref": "#/definitions/zip_code"
        },
        "town": {
            "$ref": "#/definitions/town"
        },
        "state": {
            "$ref": "#/definitions/state"
        },
        "country": {
            "$ref": "#/definitions/country"
        },
        "phone": {
            "$ref": "#/definitions/phone"
        },
        "fax": {
            "$ref": "#/definitions/fax"
        },
        "email": {
            "$ref": "#/definitions/email"
        },
        "url": {
            "$ref": "#/definitions/url"
        }
    },
    "links": [{
            "title": "Get all organizations",
            "description": "Get all organizations saved by a specific user",
            "rel": "instances",
            "href": "mp_contact/json_respond/address_company/json_mainview",
            "method": "GET",
            "schema": {
                "type": "object",
                "properties": {
                    "mp_cookie": {
                        "type": "string",
                        "description": "Cookie",
                        "example": "dqerpzf8bpj7yoc9kryzbf8zx8e4funj"
                    }
                }
            },
            "targetSchema": {
                "type": "object",
                "properties": {
                    "rowid": { "$ref": "#/definitions/rowid" },
                    "name": { "$ref": "#/definitions/name" },
                    "street": { "$ref": "#/definitions/street" },
                    "street_number": { "$ref": "#/definitions/street_number" },
                    "zip_code": { "$ref": "#/definitions/zip_code" },
                    "town": { "$ref": "#/definitions/town" },
                    "state": { "$ref": "#/definitions/state" },
                    "country": { "$ref": "#/definitions/country" },
                    "phone": { "$ref": "#/definitions/phone" },
                    "fax": { "$ref": "#/definitions/fax" },
                    "email": { "$ref": "#/definitions/email" },
                    "url": { "$ref": "#/definitions/url" }
                }
            }
        },
        {
            "title": "Create an organization",
            "description": "To create an organization you have to pass organization's name.",
            "rel": "instances",
            "href": "mp_contact/json_respond/address_company/json_insert",
            "method": "POST",
            "authentication_needed": true,
            "required": ["name"],
            "schema": {
                "type": "object",
                "properties": {
                    "mp_cookie": {
                        "type": "string",
                        "description": "Cookie",
                        "example": "dqerpzf8bpj7yoc9kryzbf8zx8e4funj"
                    },
                    "name": {
                        "$ref": "#/properties/name"
                    }
                }
            },
            "targetSchema": {
                "type": "object",
                "properties": {
                    "rowid": { "$ref": "#/definitions/rowid" },
                    "name": { "$ref": "#/definitions/name" },
                    "street": { "$ref": "#/definitions/street" },
                    "street_number": { "$ref": "#/definitions/street_number" },
                    "zip_code": { "$ref": "#/definitions/zip_code" },
                    "town": { "$ref": "#/definitions/town" },
                    "state": { "$ref": "#/definitions/state" },
                    "country": { "$ref": "#/definitions/country" },
                    "phone": { "$ref": "#/definitions/phone" },
                    "fax": { "$ref": "#/definitions/fax" },
                    "email": { "$ref": "#/definitions/email" },
                    "url": { "$ref": "#/definitions/url" }
                }
            }
        },
        {
            "title": "Update an organization",
            "description": "To update an organization you need the pass organization rowid and the field whih you want to update.",
            "rel": "instances",
            "href": "mp_contact/json_respond/address_company/json_update",
            "method": "POST",
            "authentication_needed": true,
            "required": ["rowid"],
            "schema": {
                "type": "object",
                "properties": {
                    "mp_cookie": {
                        "type": "string",
                        "description": "Cookie",
                        "example": "dqerpzf8bpj7yoc9kryzbf8zx8e4funj"
                    },
                    "rowid": {
                        "$ref": "#/properties/rowid"
                    },
                    "name": {
                        "$ref": "#/properties/name"
                    }
                }
            },
            "targetSchema": {
                "type": "object",
                "properties": {
                    "rowid": { "$ref": "#/definitions/rowid" },
                    "name": { "$ref": "#/definitions/name" }
                }
            }
        },
        {
            "title": "Delete an organization",
            "description": "To delete an organization you have to pass organization's rowid, which you want to delete. We do NOT really delete the person from our database, we just update the value in field is_deleted to 1 which actually hides the person from the view.",
            "rel": "instances",
            "href": "mp_contact/json_respond/address_contactperson/json_update",
            "method": "POST",
            "authentication_needed": true,
            "required": ["rowid"],
            "schema": {
                "type": "object",
                "properties": {
                    "mp_cookie": {
                        "type": "string",
                        "description": "Cookie",
                        "example": "dqerpzf8bpj7yoc9kryzbf8zx8e4funj"
                    },
                    "rowid": {
                        "$ref": "#/properties/rowid"
                    }
                }
            },
            "targetSchema": {
                "type": "object",
                "properties": {
                    "rowid": { "$ref": "#/definitions/rowid" },
                    "name": { "$ref": "#/definitions/name" }
                }
            }
        }
    ]
}